# 第九周复习参考

# 自动化测试可能面临的问题

行为不确定。这包括随机数生成器，还包括时间、日期、天气、来自传感器的测量值等。

很难隔离。例如，这包括对文件的访问。

是“昂贵的”。一个典型的例子是访问数据库。基本上，数据库访问不慢，但比访问内存慢。数据库的另一个方面是隔离。隔离一个数据库一般不是什么大问题，我们可以启动一个单独的数据库实例，当然这不一定会增加测试的速度。

不可靠。这些类别包括并不总是交付结果的组件，例如访问通过网络交付的结果的组件。在测试中，我们既要测试有结果的情况，也有发生错误的情况。但是我们必须检查以编写可重复的测试

有不良副作用。我们当然不想在运行测试时发送电子邮件。

# Aufgabe 2: Mocking mit Mockito

````
dependencies {
    // ...
    testImplementation 'org.mockito:mockito-core:3.10.0'
}´
````

### Dummy 假⼈
是未在试验中使用的并且仅用于填充参数的对象
测试使用的假人，只只有mock创建，并没有是进一步使用和验证的对象

### stub 
是测试替身的基本形式。
测试使用的假人，由mock创建，并进一步处理和操作的但并未验证的对象（指的就是写过when语句）

### Mock object
测试使用的假人，由mock创建，并进一步处理和操作且验证的对象。

````
verify(mailSender).sendMail(any()); (1)
verify(mailSender).sendMail(anyString()); (2)
verify(mailSender).sendMail(any(String.class)); (3)
````

## final 修饰的类不能被继承，也就意味着不能使用 mockito
